<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TCGアシスタント</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Font Awesomeはmain.jsで動的にロードされる -->
</head>
<body>
    <!-- 右サイドメニューのコンテナ -->
    <div id="tcg-right-menu-container">
        <div class="tcg-menu-icons-wrapper">
            <button class="tcg-menu-icon" data-section="home" title="ホーム"><i class="fas fa-home"></i></button>
            <button class="tcg-menu-icon" data-section="rateMatch" title="レート戦"><i class="fas fa-fist-raised"></i></button>
            <button class="tcg-menu-icon" data-section="memo" title="メモ"><i class="fas fa-clipboard"></i></button>
            <button class="tcg-menu-icon" data-section="search" title="検索"><i class="fas fa-search"></i></button>
            <button class="tcg-menu-icon" data-section="minigames" title="ミニゲーム"><i class="fas fa-gamepad"></i></button>
            <button class="tcg-menu-icon" data-section="battleRecord" title="戦いの記録"><i class="fas fa-trophy"></i></button>
            <button class="tcg-menu-icon" data-section="deckAnalysis" title="デッキ分析"><i class="fas fa-cube"></i></button>
        </div>
        <button class="tcg-menu-toggle-button" id="tcg-menu-toggle-button" title="メニューを隠す/表示">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>

    <!-- コンテンツ表示エリア -->
    <div id="tcg-content-area">
        <div id="tcg-sections-wrapper">
            <!-- 各セクションのHTMLコンテンツがここに動的にロードされます -->
            <!-- 初期表示のホームセクションのコンテンツを直接記述 -->
            <div id="tcg-home-section" class="tcg-section active">
                <h2 class="section-title">ホーム</h2>
                <p>あの頃の自作TCGアシスタントへようこそ！</p>
                <p>この拡張機能は、unityroomの『あの頃の自作TCG』をより深く、より楽しくプレイするための様々な機能を提供します。</p>
                <p>ゲーム体験を拡張し、あなたの戦略をサポートします！</p>

                <h3>拡張機能でできること</h3>

                <div class="feature-section">
                    <h4><i class="fas fa-fist-raised"></i> レート戦のサポート</h4>
                    <p>現在のレートやマッチング状況をリアルタイムで確認できます。対戦相手とのチャット機能や、勝利・敗北の報告もスムーズに行えます。</p>
                </div>

                <div class="feature-section">
                    <h4><i class="fas fa-clipboard"></i> 戦略メモ機能</h4>
                    <p>対戦中の気づきやアイデアをすぐにメモできます。スクリーンショット機能で、盤面状況を記録することも可能です。</p>
                </div>

                <div class="feature-section">
                    <h4><i class="fas fa-search"></i> カード検索機能</h4>
                    <p>あいまい検索や、カードタイプ・収録セットによる絞り込み検索で、目的のカード情報を素早く見つけられます。カードの詳細情報も一目で確認できます。</p>
                </div>

                <div class="feature-section">
                    <h4><i class="fas fa-gamepad"></i> ミニゲームで息抜き</h4>
                    <p>カード名当てクイズやイラストクイズなど、ちょっとした時間に楽しめるミニゲームで気分転換しましょう。</p>
                </div>

                <div class="feature-section">
                    <h4><i class="fas fa-trophy"></i> 戦いの記録</h4>
                    <p>自分のデッキと相手のデッキ、そして勝敗を記録し、戦績を管理できます。あなたの成長を可視化し、次の戦略に活かしましょう。</p>
                </div>

                <div class="feature-section">
                    <h4><i class="fas fa-cube"></i> デッキ分析</h4>
                    <p>デッキのスクリーンショットをアップロードして、デッキの構成を分析し、おすすめカードのサジェストを受け取ることができます。</p>
                </div>

                <p style="margin-top: 30px; text-align: center; font-style: italic; color: #666;">
                    この拡張機能は、あなたの『あの頃の自作TCG』ライフをより豊かにするために開発されています。
                </p>

                <h3>役立つリンク集</h3>
                <ul>
                    <li><a href="https://unityroom.com/games/anokorotcg" target="_blank">『あの頃の自作TCG』ゲーム本体</a></li>
                    <li><a href="https://example.com/tcg-wiki" target="_blank">非公式Wiki (例)</a></li>
                    <li><a href="https://example.com/tcg-community" target="_blank">コミュニティフォーラム (例)</a></li>
                </ul>
            </div>

            <!-- その他のセクションは動的にロードされる -->
            <div id="tcg-rateMatch-section" class="tcg-section"></div>
            <div id="tcg-memo-section" class="tcg-section"></div>
            <div id="tcg-search-section" class="tcg-section"></div>
            <div id="tcg-minigames-section" class="tcg-section"></div>
            <div id="tcg-battleRecord-section" class="tcg-section"></div>
            <div id="tcg-deckAnalysis-section" class="tcg-section"></div>
        </div>
    </div>

    <!-- カスタムダイアログのオーバーレイ -->
    <div id="tcg-custom-dialog-overlay" class="tcg-modal-overlay" style="display: none;">
        <div class="tcg-modal-content">
            <h3 id="tcg-dialog-title"></h3>
            <p id="tcg-dialog-message"></p>
            <button id="tcg-dialog-ok-button">OK</button>
            <button id="tcg-dialog-cancel-button" style="margin-left: 10px; background-color: #6c757d; display: none;">キャンセル</button>
        </div>
    </div>

    <!-- スクリーンショットトリミング用のオーバーレイ -->
    <div id="screenshot-overlay" class="tcg-modal-overlay" style="display: none;">
        <div class="tcg-modal-content screenshot-modal-content">
            <h3>スクリーンショットをトリミング</h3>
            <p>ドラッグで範囲を選択してください。</p>
            <canvas id="screenshot-canvas"></canvas>
            <div style="margin-top:15px; display:flex; justify-content:center; gap:10px;">
                <button id="crop-screenshot-button" class="tcg-button-primary">トリミングして貼り付け</button>
                <button id="paste-full-screenshot-button" class="tcg-button-secondary">トリミングせずに貼り付け</button>
                <button id="cancel-crop-button" class="tcg-button-danger">キャンセル</button>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>
